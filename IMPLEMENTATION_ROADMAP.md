# 🗺️ InventoryLogger 구현 로드맵

**작성일:** 2025-11-22  
**최종 업데이트:** 2025-11-23  
**버전:** v2.1 → v3.0 계획

---

## 📊 전체 개요

### 보류된 작업
- ⚠️ **관전자 모드 GUI 버그** (해결 불가 - Minecraft 엔진 제약)

### 완료된 작업
- ✅ **실시간 인벤토리 동기화** (2025-11-23 완료, 1.5시간)

### 미완료 작업 요약

| 순위 | 항목 | 우선순위 | 작업 시간 | 의존성 |
|------|------|----------|-----------|--------|
| **1** | 경험치 백업 기능 | MEDIUM | 8시간 | 없음 |
| **2** | GUI 현지화 개선 | LOW | 2시간 | 없음 |
| **3** | SQL 마이그레이션 | MEDIUM | 5주 | 없음 (선택적) |
| **4** | 백업 압축 옵션 | LOW | 4시간 | 없음 |
| **6** | 웹 대시보드 | VERY LOW | 2주+ | SQL 완료 권장 |

---

## 🎯 권장 구현 순서

### Phase 1: v2.1 릴리스 (긴급/중요 기능) - 2주

#### **Sprint 1 (주차 1): 핵심 UX 개선**

##### 🔴 1순위: 실시간 인벤토리 동기화 (필수)
- **작업 시간:** 6시간
- **우선순위:** HIGH
- **이유:**
  - 현재 사용자 혼란을 일으키는 **즉각적인 문제**
  - 관리자가 자주 사용하는 기능 (`/inventory player`)
  - 사용자 경험에 **직접적인 영향**
  - 다른 기능과 **의존성 없음**
  
**구현 일정:**
```
Day 1 (4시간):
├─ ChestEditableMenu 동기화 구현
├─ EnderChestEditableMenu 동기화 구현
└─ Hash 기반 최적화

Day 2 (2시간):
├─ CuriosEditableMenu 동기화 구현
├─ 설정 옵션 추가
└─ 테스트 및 성능 검증
```

**완료 기준:**
- ✅ 0.25초 이내 양방향 동기화
- ✅ TPS 영향 < 0.1
- ✅ 모든 메뉴 타입 지원 (Inventory, EnderChest, Curios)

---

##### 🟡 2순위: 경험치 백업 기능 (권장)
- **작업 시간:** 8시간 (1-2일)
- **우선순위:** MEDIUM
- **이유:**
  - **백업 완전성** 향상 (아이템만 백업하는 것은 불완전)
  - 사망 복구 시 경험치 손실 문제 해결
  - 구현 난이도 낮음 (독립적인 기능)
  - 사용자가 명시적으로 **요청한 기능**
  
**구현 일정:**
```
Day 3 (4시간):
├─ ExperienceData 클래스 생성
├─ InventoryData 확장
├─ 백업 로직 수정 (모든 이벤트)
└─ 복원 로직 수정

Day 4 (4시간):
├─ GUI 경험치 표시
├─ 번역 추가 (en/ko/ru)
├─ 테스트 (단위/통합)
└─ 하위 호환성 검증
```

**완료 기준:**
- ✅ 모든 백업에 경험치 자동 저장
- ✅ `/inventory set`으로 경험치 복원
- ✅ GUI 미리보기에 경험치 정보 표시
- ✅ 기존 백업 파일 호환성 유지

---

##### 🟢 3순위: GUI 현지화 개선 (선택적)
- **작업 시간:** 2시간
- **우선순위:** LOW
- **이유:**
  - **빠르게 완료** 가능 (2시간)
  - 코드 품질 향상 (하드코딩 제거)
  - 다국어 사용자 경험 개선
  - 릴리스 전 **마무리 작업**으로 적합
  
**구현 일정:**
```
Day 5 (2시간):
├─ 하드코딩 텍스트 찾기 (grep)
├─ 번역 키 정의 및 추가
├─ 코드 수정 (TranslationHelper 사용)
└─ 3개 언어 검증 (en/ko/ru)
```

**완료 기준:**
- ✅ 모든 GUI 텍스트 번역 파일로 이동
- ✅ 하드코딩된 문자열 0개
- ✅ 3개 언어 완전 지원

---

#### **Sprint 2 (주차 2): 테스트 및 릴리스**

```
Day 6-7 (2일):
├─ 통합 테스트 (모든 기능)
├─ 성능 테스트 (TPS, 메모리)
├─ 회귀 테스트 (기존 기능 검증)
├─ 버그 수정
├─ README 업데이트
├─ CHANGELOG 작성
└─ v2.1 릴리스
```

---

### Phase 2: v2.2 릴리스 (부가 기능) - 선택적

#### 🟢 4순위: 백업 압축 옵션
- **작업 시간:** 4시간
- **우선순위:** LOW
- **언제:** v2.1 사용자 피드백 후
- **이유:**
  - 디스크 공간 절약 (서버별로 필요성 다름)
  - SQL 마이그레이션 시 불필요할 수 있음
  - **긴급하지 않음**

**구현 검토:**
```
선택 1: v2.2에 포함
- 사용자가 디스크 공간 부족 호소 시

선택 2: SQL 마이그레이션으로 대체
- SQLite는 자체 압축 지원
- 더 나은 해결책일 수 있음
```

**결정 보류:** v2.1 릴리스 후 사용자 피드백 기반 결정

---

### Phase 3: v3.0 메이저 업그레이드 (장기 프로젝트) - 5주+

#### 🔵 5순위: SQL 마이그레이션
- **작업 시간:** 5주
- **우선순위:** MEDIUM
- **언제:** v2.x 안정화 후
- **이유:**
  - **대규모 리팩토링** (신중한 계획 필요)
  - 성능 평가 후 결정 (현재 JSON 성능 충분한지?)
  - 하위 호환성 유지 필수
  - **장기 프로젝트** (충분한 시간 확보 필요)

**시작 조건:**
1. ✅ v2.1 출시 및 안정화
2. ✅ 사용자 피드백 수집 (성능 문제 제기?)
3. ✅ 테스트 서버 준비 (대용량 백업 데이터)
4. ✅ 마이그레이션 도구 검증

**구현 일정 (5주):**
```
Week 1: Phase 0-1 (준비 및 DB 설계)
├─ 의존성 추가 (SQLite, HikariCP)
├─ 설정 확장 (storage.type)
├─ DB 스키마 설계
└─ 인덱스 최적화 계획

Week 2-3: Phase 2-3 (코드 구조 및 구현)
├─ StorageProvider 인터페이스
├─ SqlStorage 구현
├─ StorageFactory 팩토리 패턴
└─ 단위 테스트 작성

Week 4: Phase 4 (마이그레이션 도구)
├─ JsonToSqlMigrator 구현
├─ /inventory migrate 명령어
├─ 롤백 기능
└─ 진행률 표시

Week 5: Phase 5 (테스트 및 배포)
├─ 통합 테스트
├─ 성능 벤치마크 (JSON vs SQL)
├─ 베타 테스트
└─ v3.0 릴리스
```

**리스크:**
- ⚠️ 마이그레이션 실패 시 데이터 손실 위험
- ⚠️ 새로운 버그 도입 가능성
- ⚠️ 사용자 학습 곡선 (새 설정)

**완료 기준:**
- ✅ JSON/SQL 선택 가능 (설정)
- ✅ 마이그레이션 도구 정상 작동
- ✅ 성능 개선 확인 (100배+)
- ✅ 하위 호환성 유지

---

#### 🟣 6순위: 웹 대시보드 (미래)
- **작업 시간:** 2주+
- **우선순위:** VERY LOW
- **언제:** SQL 마이그레이션 완료 후
- **이유:**
  - **SQL 의존성** (SQL 없이는 비효율적)
  - Nice-to-have (필수 아님)
  - 별도 웹 서버 필요 (복잡도 증가)

**조건부 시작:**
- SQL 마이그레이션 완료
- 사용자 요청 다수
- REST API 설계 완료

---

## 🎯 최종 권장 순서

### **즉시 시작 (v2.1 목표)**

```
┌─────────────────────────────────────────────────────────┐
│  Week 1: v2.1 Sprint                                     │
├─────────────────────────────────────────────────────────┤
│  Day 1-2:  실시간 인벤토리 동기화 (6h)                   │
│  Day 3-4:  경험치 백업 기능 (8h)                         │
│  Day 5:    GUI 현지화 개선 (2h)                          │
│  Day 6-7:  테스트 및 릴리스                              │
└─────────────────────────────────────────────────────────┘
                         ⬇
┌─────────────────────────────────────────────────────────┐
│  Week 2-3: v2.1 안정화                                   │
├─────────────────────────────────────────────────────────┤
│  - 사용자 피드백 수집                                     │
│  - 버그 수정                                             │
│  - 성능 모니터링                                         │
└─────────────────────────────────────────────────────────┘
                         ⬇
┌─────────────────────────────────────────────────────────┐
│  결정: v2.2 vs v3.0                                      │
├─────────────────────────────────────────────────────────┤
│  옵션 A: 백업 압축 추가 (v2.2)                           │
│  옵션 B: SQL 마이그레이션 시작 (v3.0)                    │
│  → 사용자 피드백 기반 결정                               │
└─────────────────────────────────────────────────────────┘
```

---

## 📋 구현 우선순위 결정 기준

### 1. **사용자 영향도** (높을수록 우선)
```
실시간 동기화 > 경험치 백업 > SQL 마이그레이션 > 현지화 > 압축 > 웹 대시보드
     ★★★★★          ★★★★☆          ★★★☆☆         ★★☆☆☆    ★☆☆☆☆     ☆☆☆☆☆
```

### 2. **구현 난이도** (낮을수록 우선)
```
현지화 < 경험치 < 실시간 동기화 < 압축 < SQL < 웹 대시보드
  2h       8h          6h         4h    5주      2주+
```

### 3. **긴급성** (높을수록 우선)
```
실시간 동기화 > 경험치 백업 > 현지화 > 압축 > SQL > 웹 대시보드
    HIGH          MEDIUM       LOW     LOW   MED     VERY LOW
```

### 4. **의존성**
```
독립적:
- 실시간 동기화 ✅
- 경험치 백업 ✅
- 현지화 ✅
- 압축 ✅
- SQL ✅

의존성 있음:
- 웹 대시보드 → SQL 권장 ⚠️
```

---

## ⚡ 빠른 승리 (Quick Wins)

작업 시간 대비 효과가 큰 항목:

### 1위: GUI 현지화 개선
- **시간:** 2시간
- **효과:** 코드 품질 향상 + 다국어 완전 지원
- **ROI:** ★★★★★

### 2위: 실시간 동기화
- **시간:** 6시간
- **효과:** 핵심 UX 문제 해결
- **ROI:** ★★★★★

### 3위: 경험치 백업
- **시간:** 8시간
- **효과:** 백업 완전성 향상
- **ROI:** ★★★★☆

---

## 🚫 당장 하지 말아야 할 것

### ❌ SQL 마이그레이션을 먼저 시작
**이유:**
1. 현재 JSON 성능이 충분한지 검증 필요
2. v2.1 출시 지연 (5주 프로젝트)
3. 사용자가 즉각적인 UX 개선을 원함
4. 리스크가 높음 (데이터 마이그레이션)

**올바른 순서:**
```
v2.1 (UX 개선) → 안정화 → 성능 평가 → SQL 결정
```

### ❌ 웹 대시보드부터 시작
**이유:**
1. SQL 없이는 비효율적
2. 사용자 요청 없음
3. 유지보수 부담 증가
4. 핵심 기능 아님

---

## 📊 릴리스 계획 요약

### v2.1 (권장: 2주 내)
- ✅ 실시간 인벤토리 동기화
- ✅ 경험치 백업 기능
- ✅ GUI 현지화 개선
- 📝 목표: 핵심 UX 개선 및 기능 완성도

### v2.2 (선택적: v2.1 + 1주)
- ✅ 백업 압축 옵션
- 📝 목표: 부가 기능 추가

### v3.0 (장기: v2.x + 5주)
- ✅ SQL 마이그레이션
- ✅ 성능 대폭 개선
- 📝 목표: 확장성 및 성능

### v3.1 (미래: v3.0 + 2주)
- ✅ 웹 대시보드
- 📝 목표: 관리 편의성

---

## 🎯 최종 추천

### **즉시 시작 (이번 주)**
1. 실시간 인벤토리 동기화 (6시간)
2. 경험치 백업 기능 (8시간)
3. GUI 현지화 개선 (2시간)

**총 작업 시간:** 16시간 (2일)  
**예상 릴리스:** v2.1 (2주 내)

### **다음 단계 (v2.1 후)**
- 사용자 피드백 수집
- 성능 문제 여부 확인
- SQL 마이그레이션 필요성 재평가

### **보류**
- 백업 압축 (요청 시 추가)
- 웹 대시보드 (SQL 후)

---

**작성자:** Pocky  
**마지막 업데이트:** 2025-11-22  
**다음 리뷰:** v2.1 릴리스 후
